# This file was generated by GoReleaser. DO NOT EDIT.
cask "fritz-tls" do
  desc "Automate TLS certificate installation for AVM FRITZ!Box"
  homepage "https://github.com/tisba/fritz-tls"
  version "0.23.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "fritz-tls"

  on_macos do
    on_intel do
      url "https://github.com/tisba/fritz-tls/releases/download/v0.23.0/fritz-tls_0.23.0_darwin_amd64.zip"
      sha256 "76e6291a07712cc271a4f62d126719c60c3fe1d30a4df7e932f4ca5f8b65ab6e"
    end
    on_arm do
      url "https://github.com/tisba/fritz-tls/releases/download/v0.23.0/fritz-tls_0.23.0_darwin_arm64.zip"
      sha256 "48d08053c0da545314d3106ea48b404c81a0d1b9ee9e7652f49c4a8a4c032654"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/tisba/fritz-tls/releases/download/v0.23.0/fritz-tls_0.23.0_linux_amd64.tar.gz"
      sha256 "7ed6beb2ebeaefa52639bbf81169414fd6a9e19181b6b4cbb242e6dec30156ff"
    end
    on_arm do
      url "https://github.com/tisba/fritz-tls/releases/download/v0.23.0/fritz-tls_0.23.0_linux_arm64.tar.gz"
      sha256 "b16efb35ecb3421a9bfe7bc8e20d0f4f8e61a92af7717d28172f171a7552cbb7"
    end
  end

  conflicts_with formula: [
      "fritz-tls",
    ]

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      # replace 'foo' with the actual binary name
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/fritz-tls"]
    end
  end

  # No zap stanza required
end
